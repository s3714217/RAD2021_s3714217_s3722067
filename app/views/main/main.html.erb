
<body>
   <p><h1 class="collection_title">New & Trending</h1></p>
   
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <% @active = true %>
        <% @items.each do |item| %>
        
          <% if item.category == "new" %>
          
           <% if @active == false%>
              <div class="carousel-item">
                <div class="carousel-caption d-none d-md-block"><button type="button" class="btn btn-light">Add to Cart</button></div>
                <img class="d-block w-100" src=<%= item.asseturl%> alt="" width="250px" height="400px">
              </div>
            <% end %>
            
            <% if @active == true%>
              <div class="carousel-item active">
                <div class="carousel-caption d-none d-md-block"><button type="button" class="btn btn-light">Add to Cart</button></div>
                <img class="d-block w-100" src=<%= item.asseturl%> alt="" width="250px" height="400px">
              </div>
              <%  @active = false %>
            <% end %>
            
            
            
          <% end %>
        <% end %>
       
        
      </div>
      
      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
  
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  
    <p><h1 class="collection_title">Popular</h1></p>
   
   <div id="carouselControls" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <%
            @count = 0
            @item_set = []
            
            @items.each do |item|
              if item.category == "popular"
                @item_set[@count] = item
                @count += 1
              end
            end
        %>
        <div class="carousel-item active">  
          <div class="row">
          
          <% @display_count = 0%>
          <% while @display_count < 3 %>
            <% @item = @item_set[@display_count]%>
               <div class="col-md-4">
                <div class="card mb-2">
                  <img class="card-img-top" src=<%=@item.asseturl%>
                   alt="Card image cap" width = 25px height = 600px>
                  <div class="card-body">
                <h4 class="card-title"><%=@item.name%></h4>
                <button type="button" class="btn btn-light">Add to Cart</button>
              </div>
            </div>
             </div>
            <% @display_count += 1%>
          <% end %>
          </div>
        </div>
      
      <% while @display_count < @count%>
        <div class="carousel-item">
          <div class="row">
           <% @temp_count = 3%>
           <%  while @temp_count > 0 %>
           <% @item = @item_set[@display_count]%>
           <% if @display_count < @count%>
           <div class="col-md-4">
            <div class="card mb-2">
              <img class="card-img-top" src=<%= @item.asseturl%>
                   alt="Card image cap" width = 25px height = 600px>
              <div class="card-body">
                <h4 class="card-title"><%=@item.name%></h4>
                <button type="button" class="btn btn-light">Add to Cart</button>
              </div>
            </div>
          </div>
          <%end%>
           <%    
                @temp_count -= 1
                @display_count += 1
                end
            %>
            
          </div>
        </div>
        
      <%  end %>
      
      
      
      
      
      
      <a class="carousel-control-prev" href="#carouselControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
  
      <a class="carousel-control-next" href="#carouselControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
      
      
    </div>
  
    <p><h1 class="collection_title">Collection</h1></p>
    
    <div class="row">
      
      <div class="column">
        <div>
           <img src="https://i.pinimg.com/originals/cf/e2/3e/cfe23e4f342df7fc5ba71d1e2adc1efd.jpg" alt="Nature" style="width:100%" align="center">
           <h2>New Arrival</h2>
        </div>
       
       <div>
           <img src="https://www.karl.com/cloud/karlwp/uploads/2021/01/PLPBANNER_SS21_MOBILE_KDS.jpg" alt="Nature" style="width:100%" align="center">
           <h2>Kid</h2>
        </div>
      </div>
     <div class="column">
        <div>
           <img src="https://www.belstaff.eu/on/demandware.static/-/Library-Sites-bff-shared-general/default/dw595a77f7/images/2016/womens-clp/DESK-CLP-HERO_WW-JULY.jpg" alt="Nature" style="width:100%" align="center">
           <h2>Women</h2>
        </div>
       
       <div>
           <img src="https://timwellstyled.files.wordpress.com/2014/06/gerard-pique-mango-2-735x1024.jpg" alt="Nature" style="width:100%  ;height:480px" align="center">
           <h2>Men</h2>
        </div>
      </div>
     
    </div>
    
    <h1>Newsletter</h1>
      <%= form_with model: @subscriber, url: newsletter_signup_path  do |form| %>
      <div class = "mb-3">
      <%= form.label :email %>        
      <%= form.text_field :email, { :name => 'subscriber[email]' }%>
      </div>
      <div class = "mb-3">
        <%= form.submit 'Subscribe!' %>
      </div>
    <% end %>  
    
</body>
